{"ast":null,"code":"import _slicedToArray from\"C:/DEVELOPER/AMAZON-CLONE/amazon/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{db}from\"./firebase\";import\"./Orders.css\";import{useStateValue}from\"./StateProvider\";import Order from\"./Order\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Orders(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){if(user){db.collection(\"users\").doc(user===null||user===void 0?void 0:user.uid).collection(\"orders\").orderBy(\"created\",\"desc\").onSnapshot(function(snapshot){return setOrders(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});}else{setOrders([]);}},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"orders\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Orders\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orders__order\",children:orders===null||orders===void 0?void 0:orders.map(function(order){return/*#__PURE__*/ (//regresa un elemento llamado ORDER\n_jsx(Order,{order:order}));})})]});}export default Orders;","map":{"version":3,"sources":["C:/DEVELOPER/AMAZON-CLONE/amazon/src/Orders.js"],"names":["React","useState","useEffect","db","useStateValue","Order","Orders","basket","user","dispatch","orders","setOrders","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","map","id","data","order"],"mappings":"mHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,EAAT,KAAmB,YAAnB,CACA,MAAO,cAAP,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,wFAEA,QAASC,CAAAA,MAAT,EAAkB,CAChB,mBAAqCF,aAAa,EAAlD,sFAASG,MAAT,kBAASA,MAAT,CAAiBC,IAAjB,kBAAiBA,IAAjB,CAAyBC,QAAzB,oBACA,cAA4BR,QAAQ,CAAC,EAAD,CAApC,wCAAOS,MAAP,eAAeC,SAAf,eAEAT,SAAS,CAAC,UAAM,CACd,GAAIM,IAAJ,CAAU,CACRL,EAAE,CAACS,UAAH,CAAc,OAAd,EACGC,GADH,CACOL,IADP,SACOA,IADP,iBACOA,IAAI,CAAEM,GADb,EAEGF,UAFH,CAEc,QAFd,EAGGG,OAHH,CAGW,SAHX,CAGsB,MAHtB,EAIGC,UAJH,CAIc,SAACC,QAAD,QACVN,CAAAA,SAAS,CACPM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACN,GAAD,QAAU,CAC1BO,EAAE,CAAEP,GAAG,CAACO,EADkB,CAE1BC,IAAI,CAAER,GAAG,CAACQ,IAAJ,EAFoB,CAAV,EAAlB,CADO,CADC,EAJd,EAYD,CAbD,IAaO,CACLV,SAAS,CAAC,EAAD,CAAT,CACD,CACF,CAjBQ,CAiBN,CAACH,IAAD,CAjBM,CAAT,CAmBA,mBACE,aAAK,SAAS,CAAC,QAAf,wBACE,mCADF,cAGE,YAAK,SAAS,CAAC,eAAf,UACGE,MADH,SACGA,MADH,iBACGA,MAAM,CAAES,GAAR,CAAY,SAACG,KAAD,sBACX;AACA,KAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,EAFW,GAAZ,CADH,EAHF,GADF,CAYD,CAED,cAAehB,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { db } from \"./firebase\";\r\nimport \"./Orders.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Order from \"./Order\";\r\n\r\nfunction Orders() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      db.collection(\"users\")\r\n        .doc(user?.uid)\r\n        .collection(\"orders\")\r\n        .orderBy(\"created\", \"desc\")\r\n        .onSnapshot((snapshot) =>\r\n          setOrders(\r\n            snapshot.docs.map((doc) => ({\r\n              id: doc.id,\r\n              data: doc.data(),\r\n            }))\r\n          )\r\n        );\r\n    } else {\r\n      setOrders([]);\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className=\"orders\">\r\n      <h1>Your Orders</h1>\r\n\r\n      <div className=\"orders__order\">\r\n        {orders?.map((order) => (\r\n          //regresa un elemento llamado ORDER\r\n          <Order order={order} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n"]},"metadata":{},"sourceType":"module"}